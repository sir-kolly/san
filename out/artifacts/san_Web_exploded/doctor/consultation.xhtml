<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                template="/Template.xhtml">
    <f:metadata>
        <f:event type="preRenderView" listener="#{doctorView.visitorToday()}"/>
    </f:metadata>

    <ui:define name="title">
        Doctor |Consultation
    </ui:define>

    <ui:define name="menu">
        <ui:include src="doctor-menu.xhtml"/>
    </ui:define>
    <ui:define name="content">
        <h:column>
            <h:panelGrid styleClass="panel-grid" rendered="#{doctorView.patientRecordAvailable}">
                <h:form style="padding: 2px" id="form">
                    <fieldset>
                        <legend>selected patient for Treatement process</legend>
                        <h:panelGrid columns="8" width="100%">
                            <h:outputLabel value="patient number" for="pno"/>
                            <h:inputText readonly="true"  value="#{doctorView.patient.patientNumber}" id="pno" class="form-control"/>
                            <h:outputLabel value="name" for="name"/>
                            <h:inputText readonly="true"  value="#{doctorView.patient.firstName} #{doctorView.patient.lastName}" id="name" class="form-control"/>
                            <h:outputLabel value="gender" for="gender"/>
                            <h:inputText readonly="true"  value="#{doctorView.patient.gender}" id="gender" class="form-control" />
                            <h:outputLabel value="yob" for="yob"/>
                            <h:inputText readonly="true"  value="#{doctorView.patient.yoB}" id="yob" class="form-control"/>
                        </h:panelGrid>
                    </fieldset>
                </h:form>
            </h:panelGrid>
        </h:column>
        <h:column>
            <h:panelGrid styleClass="panel-grid">
                <h:form style="padding: 2px;" id="labTestForm" >
                    <fieldset>
                        <legend >previous lab test reports</legend>
                        <h:panelGrid width="100%">
                            <h:dataTable value="#{doctorView.labs}" var="lab" headerClass="table-header" rowClasses="even,odd">
                                <h:column>
                                    <f:facet name="header">
                                        test
                                    </f:facet>
                                    #{lab.test}
                                </h:column>
                                <h:column>
                                    <f:facet name="header">
                                     result
                                    </f:facet>
                                    #{lab.result}
                                </h:column>
                                <h:column>
                                    <f:facet name="header">
                                        Date
                                    </f:facet>
                                    #{lab.date}
                                </h:column>
                            </h:dataTable>
                        </h:panelGrid>
                    </fieldset>
                </h:form>
            </h:panelGrid>
        </h:column>
        <h:column>
            <h:panelGrid rendered="#{doctorView.patientRecordAvailable}"  styleClass="panel-grid">
                <h:form style="padding: 2px;" id="admInfo">
                    <fieldset>
                        <legend >Previous Admission Records</legend>
                        <h:panelGrid width="100%">
                            <h:dataTable value="#{doctorView.admissions}" var="adm" headerClass="table-header" rowClasses="even,odd" width="100%">
                                <h:column>
                                    <f:facet name="header">
                                       admission number
                                    </f:facet>
                                    #{adm.admissionNumber}
                                </h:column>
                                <h:column>
                                    <f:facet name="header">
                                        section
                                    </f:facet>
                                    #{adm.section}
                                </h:column>
                                <h:column>
                                    <f:facet name="header">
                                        room
                                    </f:facet>
                                    #{adm.room.roomNumber}
                                </h:column>
                                <h:column>
                                    <f:facet name="header">
                                        bed
                                    </f:facet>
                                    #{adm.bed.bedNumber}
                                </h:column>
                                <h:column>
                                    <f:facet name="header">
                                        date
                                    </f:facet>
                                    #{adm.date}
                                </h:column>
                                <h:column>
                                    <f:facet name="header">
                                        Service Doctor
                                    </f:facet>
                                     #{adm.doc.lastName}
                                </h:column>
                            </h:dataTable>
                        </h:panelGrid>
                    </fieldset>
                </h:form>
            </h:panelGrid>
        </h:column>
        <h:column>
            <h:panelGrid  rendered="#{doctorView.patientRecordAvailable}"  styleClass="panel-grid">
                <h:form style="padding: 2px;" id="medInfo">
                    <fieldset>
                        <legend >previous medication reports</legend>
                        <h:panelGrid width="100%">
                            <h:dataTable value="#{doctorView.medications}" var="md" headerClass="table-header" rowClasses="even,odd" width="100%">
                                <h:column>
                                    <f:facet name="header">
                                       Serial
                                    </f:facet>
                                    #{md.medNumber}
                                </h:column>
                                <h:column>
                                    <f:facet name="header">
                                       Medicine
                                    </f:facet>
                                    #{md.medName}
                                </h:column>
                                <h:column>
                                    <f:facet name="header">
                                        Prescription
                                    </f:facet>
                                    #{md.prescription}
                                </h:column>
                                <h:column>
                                    <f:facet name="header">
                                        Strength
                                    </f:facet>
                                    #{md.strength}
                                </h:column>
                                <h:column>
                                    <f:facet name="header">
                                        Date
                                    </f:facet>
                                    #{md.date}
                                </h:column>
                            </h:dataTable>
                        </h:panelGrid>
                    </fieldset>
                </h:form>
            </h:panelGrid>
        </h:column>
    </ui:define>
</ui:composition>
