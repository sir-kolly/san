<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                template="/Template.xhtml">
    <f:metadata>
        <f:event type="preRenderView" listener="#{doctorView.labReport()}"/>
    </f:metadata>

    <ui:define name="title">
        Doctor |Consultation
    </ui:define>

    <ui:define name="menu">
        <ui:include src="doctor-menu.xhtml"/>
    </ui:define>
    <ui:define name="content">
        <h:column>
            <h:panelGrid styleClass="panel-grid">
                <h:form style="padding: 2px;" id="medInfo">
                    <fieldset>
                        <legend>
                            lab test report for [ <h:outputText value="#{doctorView.patient.firstName} #{doctorView.patient.lastName}"/> ]
                        </legend>
                        <h:panelGrid width="100%">
                            <h:dataTable value="#{doctorView.labs}" var="lb" headerClass="table-header" rowClasses="even,odd">
                                <h:column>
                                    <f:facet name="header">
                                        Test
                                    </f:facet>
                                    #{lb.test}
                                </h:column>
                                <h:column>
                                    <f:facet name="header">
                                       Result
                                    </f:facet>
                                    #{lb.result}
                                </h:column>
                                <h:column>
                                    <f:facet name="header">
                                        Comment
                                    </f:facet>
                                    #{lb.comment}
                                </h:column>
                                <h:column>
                                    <f:facet name="header">
                                        Date
                                    </f:facet>
                                    #{lb.date}
                                </h:column>
                            </h:dataTable>
                        </h:panelGrid>
                    </fieldset>
                    <h:panelGrid width="20%" style="margin: 2px auto">
                        <h:commandButton value="close" action="#{doctorView.openConsultationUrl}" styleClass="button"/>
                    </h:panelGrid>
                </h:form>
            </h:panelGrid>
        </h:column>
    </ui:define>
</ui:composition>
